[system]
nlevels = [4]
nessential = [3]
ntime = 667
dt = 0.15
transition_frequency = [4.10595]
rotation_frequency = [4.10595]
selfkerr = [0.2198]
initial_condition = {type = "state", levels = [1]}

[control]
parameterization = { type = "spline0", num = 101 }
carrier_frequency = [0.0]
initialization = { type = "file", filename = "./params.dat" }
amplitude_bound = 100.0
zero_boundary_condition = true

[optimization]
target = {type = "state", filename = "./targetstate.dat"}
objective = "Jtrace"
weights = [1.0]
tolerance = { grad_abs = 0.0001, grad_rel = 0.0001, final_cost = 0.0001, infidelity = 1e-05 }
maxiter = 100
tikhonov = { coeff = 0.0001, use_x0 = false }
penalty = { leakage = 0.1, weightedcost = 0.1, weightedcost_width = 0.01, dpdm = 0.01, energy = 0.1, variation = 10.0 }

[output]
directory = "./data_out"
observables = ["fullstate"]
timestep_stride = 1
optimization_stride = 1

[solver]
runtype = "optimization"
usematfree = true
linearsolver = { type = "gmres", maxiter = 20 }
timestepper = "IMR"
rand_seed = 1234
